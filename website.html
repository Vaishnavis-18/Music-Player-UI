<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="website.css">
</head>
<body>
    <div class="music-player">
        <div class="player-header">
            <h1>Music Player</h1>
            <p>Immerse yourself in the perfect sound experience</p>
        </div>
        <div class="player-content">
            <div class="now-playing-section">
                <div class="album-art-container">
                    <div class="album-art">
                        <img src="https://i.scdn.co/image/ab67616d00001e028863bc11d2aa12b54f5aeb36" alt="Album Art">
                    </div>
                </div>
                
                <div class="song-info">
                    <h2 class="song-title">Blinding Lights</h2>
                    <p class="song-artist">The Weekend</p>
                    <p class="song-album">After Hours</p>
                    
                    <div class="player-controls">
                        <div class="progress-section">
                            <div class="progress-bar">
                                <div class="progress"></div>
                            </div>
                            <div class="time-info">
                                <span class="current-time">1:24</span>
                                <span class="total-time">4:04</span>
                            </div>
                        </div>
                        
                        <div class="control-buttons">
                            <button class="control-btn" id="shuffle-btn">
                                <i class="fas fa-random"></i>
                            </button>
                            <button class="control-btn" id="prev-btn">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="control-btn play-btn" id="play-btn">
                                <i class="fas fa-pause"></i>
                            </button>
                            <button class="control-btn" id="next-btn">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            <button class="control-btn" id="repeat-btn">
                                <i class="fas fa-redo"></i>
                            </button>
                        </div>
                        
                        <div class="volume-section">
                            <span class="volume-icon">
                                <i class="fas fa-volume-up"></i>
                            </span>
                            <div class="volume-bar">
                                <div class="volume-level"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="playlist-section">
                <h3>Playlist</h3>
                <ul class="playlist">
                    <li class="playlist-item active">
                        <img src="https://i.scdn.co/image/ab67616d00001e028863bc11d2aa12b54f5aeb36" alt="Album Art">
                        <div class="playlist-item-info">
                            <div class="playlist-item-title">Blinding Lights</div>
                            <div class="playlist-item-artist">The Weekend</div>
                        </div>
                        <div class="playlist-item-duration">4:04</div>
                    </li>
                    <li class="playlist-item">
                        <img src="https://i.scdn.co/image/ab67616d00001e024718e2b124f79258be7bc452" alt="Album Art">
                        <div class="playlist-item-info">
                            <div class="playlist-item-title">Starboy</div>
                            <div class="playlist-item-artist">The Weeknd</div>
                        </div>
                        <div class="playlist-item-duration">3:22</div>
                    </li>
                    <li class="playlist-item">
                        <img src="https://i.scdn.co/image/ab67616d00001e0215145482a542a9adb282250b" alt="Album Art">
                        <div class="playlist-item-info">
                            <div class="playlist-item-title">We Don't Talk Anymore(feat.Selena Gomez)</div>
                            <div class="playlist-item-artist">Charlie Puth,Selena Gomez</div>
                        </div>
                        <div class="playlist-item-duration">3:48</div>
                    </li>
                    <li class="playlist-item">
                        <img src="https://i.scdn.co/image/ab67616d00001e0282ea2e9e1858aa012c57cd45" alt="Album Art">
                        <div class="playlist-item-info">
                            <div class="playlist-item-title">Die With A Smile</div>
                            <div class="playlist-item-artist">Lady Gaga, Bruno Mars</div>
                        </div>
                        <div class="playlist-item-duration">4:54</div>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="player-footer">
            <p>Music Player &copy; 2023 | Now Playing: Blinding Lights by The Weekend</p>
        </div>
    </div>

    <script>
        // DOM Elements
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const shuffleBtn = document.getElementById('shuffle-btn');
        const repeatBtn = document.getElementById('repeat-btn');
        const progressBar = document.querySelector('.progress-bar');
        const progress = document.querySelector('.progress');
        const volumeBar = document.querySelector('.volume-bar');
        const volumeLevel = document.querySelector('.volume-level');
        const playlistItems = document.querySelectorAll('.playlist-item');
        const currentTimeEl = document.querySelector('.current-time');
        const songTitle = document.querySelector('.song-title');
        const songArtist = document.querySelector('.song-artist');
        const songAlbum = document.querySelector('.song-album');
        const albumArtImg = document.querySelector('.album-art img');
        
        // Music data
        const songs = [
            {
                title: 'Blinding Lights',
                artist: 'The Weekend',
                album: 'After Hours',
                duration: '3:20',
                albumArt: 'https://i.scdn.co/image/ab67616d00001e028863bc11d2aa12b54f5aeb36'
            },
            {
                title: 'Startboy',
                artist: 'The Weeknd',
                album: 'Starboy',
                duration: '3:50',
                albumArt: 'https://i.scdn.co/image/ab67616d00001e024718e2b124f79258be7bc452'
            },
            {
                title: "We Don't Talk Anymore(feat.Selena Gomez)",
                artist: 'Charlie Puth,Selena Gomez',
                album: 'Nine Track Mind',
                duration: '3:37',
                albumArt: 'https://i.scdn.co/image/ab67616d00001e0215145482a542a9adb282250b'
            },
            {
                title: 'Die With A Smile',
                artist: 'Lady Gaga,Bruno Mars',
                album: 'MAYHEM',
                duration: '4:11',
                albumArt: 'https://i.scdn.co/image/ab67616d00001e0282ea2e9e1858aa012c57cd45'
            }
        ];
        
        // Player state
        let isPlaying = true;
        let currentSongIndex = 0;
        let isShuffled = false;
        let isRepeating = false;
        let progressInterval;
        
        // Initialize player
        function initPlayer() {
            updateSongInfo();
            updatePlaylistActiveItem();
            startProgressAnimation();
        }
        
        // Update song info display
        function updateSongInfo() {
            const song = songs[currentSongIndex];
            songTitle.textContent = song.title;
            songArtist.textContent = song.artist;
            songAlbum.textContent = song.album;
            albumArtImg.src = song.albumArt;
            currentTimeEl.textContent = '0:00';
            document.querySelector('.total-time').textContent = song.duration;
        }
        
        // Update playlist active item
        function updatePlaylistActiveItem() {
            playlistItems.forEach((item, index) => {
                if (index === currentSongIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        // Toggle play/pause
        function togglePlayPause() {
            if (isPlaying) {
                pauseSong();
            } else {
                playSong();
            }
        }
        
        // Play song
        function playSong() {
            isPlaying = true;
            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            startProgressAnimation();
        }
        
        // Pause song
        function pauseSong() {
            isPlaying = false;
            playBtn.innerHTML = '<i class="fas fa-play"></i>';
            clearInterval(progressInterval);
        }
        
        // Start progress animation
        function startProgressAnimation() {
            clearInterval(progressInterval);
            
            if (!isPlaying) return;
            
            const totalTime = 244; // 4:04 in seconds
            let currentTime = 84; // Start at 1:24
            
            // Update progress bar and time display
            progressInterval = setInterval(() => {
                if (currentTime >= totalTime) {
                    clearInterval(progressInterval);
                    if (isRepeating) {
                        playNextSong();
                    } else {
                        pauseSong();
                        currentTime = 0;
                        updateProgressBar(currentTime, totalTime);
                    }
                    return;
                }
                
                currentTime++;
                updateProgressBar(currentTime, totalTime);
            }, 1000);
        }
        
        // Update progress bar
        function updateProgressBar(currentTime, totalTime) {
            const progressPercent = (currentTime / totalTime) * 100;
            progress.style.width = `${progressPercent}%`;
            
            // Format time as mm:ss
            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            };
            
            currentTimeEl.textContent = formatTime(currentTime);
        }
        
        // Play next song
        function playNextSong() {
            if (isShuffled) {
                // Play random song (not the current one)
                let newIndex;
                do {
                    newIndex = Math.floor(Math.random() * songs.length);
                } while (newIndex === currentSongIndex && songs.length > 1);
                currentSongIndex = newIndex;
            } else {
                currentSongIndex = (currentSongIndex + 1) % songs.length;
            }
            
            updateSongInfo();
            updatePlaylistActiveItem();
            playSong();
        }
        
        // Play previous song
        function playPrevSong() {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            updateSongInfo();
            updatePlaylistActiveItem();
            playSong();
        }
        
        // Set progress bar on click
        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const percent = (clickX / width) * 100;
            progress.style.width = `${percent}%`;
            
            // Update time display (simulated)
            const totalTime = 244;
            const currentTime = (percent / 100) * totalTime;
            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            };
            
            currentTimeEl.textContent = formatTime(currentTime);
        }
        
        // Set volume on click
        function setVolume(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const percent = Math.min((clickX / width) * 100, 100);
            volumeLevel.style.width = `${percent}%`;
            
            // Update volume icon
            const volumeIcon = document.querySelector('.volume-icon i');
            if (percent === 0) {
                volumeIcon.className = 'fas fa-volume-mute';
            } else if (percent < 50) {
                volumeIcon.className = 'fas fa-volume-down';
            } else {
                volumeIcon.className = 'fas fa-volume-up';
            }
        }
        
        // Toggle shuffle
        function toggleShuffle() {
            isShuffled = !isShuffled;
            shuffleBtn.style.color = isShuffled ? '#6a11cb' : '#fff';
        }
        
        // Toggle repeat
        function toggleRepeat() {
            isRepeating = !isRepeating;
            repeatBtn.style.color = isRepeating ? '#6a11cb' : '#fff';
        }
        
        // Select song from playlist
        function selectSongFromPlaylist(index) {
            currentSongIndex = index;
            updateSongInfo();
            updatePlaylistActiveItem();
            playSong();
        }
        
        // Event listeners
        playBtn.addEventListener('click', togglePlayPause);
        nextBtn.addEventListener('click', playNextSong);
        prevBtn.addEventListener('click', playPrevSong);
        shuffleBtn.addEventListener('click', toggleShuffle);
        repeatBtn.addEventListener('click', toggleRepeat);
        progressBar.addEventListener('click', setProgress);
        volumeBar.addEventListener('click', setVolume);
        
        // Add event listeners to playlist items
        playlistItems.forEach((item, index) => {
            item.addEventListener('click', () => selectSongFromPlaylist(index));
        });
        
        // Initialize player
        initPlayer();
    </script>
</body>
</html>
